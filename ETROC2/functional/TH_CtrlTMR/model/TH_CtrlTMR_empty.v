/****************************************************************************************************
 *                          ! THIS FILE WAS AUTO-GENERATED BY TMRG TOOL !                           *
 *                                   ! DO NOT EDIT IT MANUALLY !                                    *
 *                                                                                                  *
 * file    : ../output/TH_CtrlTMR.v                                                                 *
 *                                                                                                  *
 * user    : qsun                                                                                   *
 * host    : hepasic2.physics.smu.edu                                                               *
 * date    : 01/07/2021 17:52:02                                                                    *
 *                                                                                                  *
 * workdir : /users/qsun/workarea/tsmc65nm/ETROC_PLL/digital_work/ETROC2_TH_Ctrl/tmr/work           *
 * cmd     : /users/qsun/workarea/tsmc65nm/ETROC_PLL/digital_work/tmrg/bin/tmrg --log tmrg.log      *
 *           --include --inc-dir ../../ETROC_TH_Ctrl-main/ --lib ../simplified_std_cell_lib.v --lib *
 *           ../../ETROC_TH_Ctrl-main/powerOnResetLong.v --lib ../../libs/customDigitalLib.v -c     *
 *           ../config/tmrg.cnf                                                                     *
 * tmrg rev:                                                                                        *
 *                                                                                                  *
 * src file: ../../ETROC_TH_Ctrl-main/TH_Ctrl.v                                                     *
 *           File is NOT under version control!                                                     *
 *           Modification time : 2021-07-01 17:50:55.914238                                         *
 *           File Size         : 21314                                                              *
 *           MD5 hash          : 30dc691c0a1f651e27072fca7e8f15ed                                   *
 *                                                                                                  *
 ****************************************************************************************************/

`timescale  1ns/10ps

`define  AccumulatorBit 16 

module TH_CtrlTMR(
     CLK,
     RSTn,
     DiscriPul,
     Bypass,
     CLKEn,
     ScanStart,
     ScanDone,
     DAC,
     TH_offset,
     TH,
     BL,
     NW,
     Acc,
     StateOut,
     VDD,
     VSS
);
parameter    T1mS=16'd39_999;
parameter    T50uS=16'd1999;
parameter    T50p05uS=16'd2001;
localparam    INIT=3'd0;
localparam    SAR_INIT=3'd1;
localparam    SAR_SCAN=3'd2;
localparam    SAR_DONE=3'd3;
localparam    LINEAR_INIT=3'd4;
localparam    LINEAR_SCAN=3'd5;
localparam    IDLE=3'd6;
wire ScanDoneC;
wire ScanDoneB;
wire ScanDoneA;
wire CLKC;
wire CLKB;
wire CLKA;
wire DiscriPulC;
wire DiscriPulB;
wire DiscriPulA;
wire CLKEnC;
wire CLKEnB;
wire CLKEnA;
wire BypassC;
wire BypassB;
wire BypassA;
wire ScanStartC;
wire ScanStartB;
wire ScanStartA;
wire RSTnC;
wire RSTnB;
wire RSTnA;
wire tmrErrorC;
wor stateTmrErrorC;
wor ministateTmrErrorC;
wor iTmrErrorC;
wor bl_scan_InsttmrErrorC;
wor TH_regTmrErrorC;
wor ScanActiveTmrErrorC;
wor SAR_Scan_DoneTmrErrorC;
wor SAR_Scan_BusyTmrErrorC;
wor PulGen_Done_InsttmrErrorC;
wor NW_regTmrErrorC;
wor Linear_Scan_BusyTmrErrorC;
wor CMD_regTmrErrorC;
wor BL_regTmrErrorC;
wor BL_intTmrErrorC;
wor Auto_Scan_DoneTmrErrorC;
wire ministateVotedC;
wire [2:0] stateVotedC;
wire CMD_regVotedC;
wire [9:0] BL_intVotedC;
wire Linear_Scan_BusyVotedC;
wire [4:0] iVotedC;
wire [9:0] TH_regVotedC;
wire [3:0] NW_regVotedC;
wire [9:0] BL_regVotedC;
wire SAR_Scan_DoneVotedC;
wire SAR_Scan_BusyVotedC;
wire Auto_Scan_DoneVotedC;
wire ScanActiveVotedC;
wire tmrErrorB;
wor stateTmrErrorB;
wor ministateTmrErrorB;
wor iTmrErrorB;
wor bl_scan_InsttmrErrorB;
wor TH_regTmrErrorB;
wor ScanActiveTmrErrorB;
wor SAR_Scan_DoneTmrErrorB;
wor SAR_Scan_BusyTmrErrorB;
wor PulGen_Done_InsttmrErrorB;
wor NW_regTmrErrorB;
wor Linear_Scan_BusyTmrErrorB;
wor CMD_regTmrErrorB;
wor BL_regTmrErrorB;
wor BL_intTmrErrorB;
wor Auto_Scan_DoneTmrErrorB;
wire ministateVotedB;
wire SAR_Scan_DoneVotedB;
wire [2:0] stateVotedB;
wire CMD_regVotedB;
wire Linear_Scan_BusyVotedB;
wire [9:0] BL_intVotedB;
wire [9:0] TH_regVotedB;
wire [4:0] iVotedB;
wire [3:0] NW_regVotedB;
wire [9:0] BL_regVotedB;
wire Auto_Scan_DoneVotedB;
wire SAR_Scan_BusyVotedB;
wire ScanActiveVotedB;
wire tmrErrorA;
wor stateTmrErrorA;
wor ministateTmrErrorA;
wor iTmrErrorA;
wor bl_scan_InsttmrErrorA;
wor TH_regTmrErrorA;
wor ScanActiveTmrErrorA;
wor SAR_Scan_DoneTmrErrorA;
wor SAR_Scan_BusyTmrErrorA;
wor PulGen_Done_InsttmrErrorA;
wor NW_regTmrErrorA;
wor Linear_Scan_BusyTmrErrorA;
wor CMD_regTmrErrorA;
wor BL_regTmrErrorA;
wor BL_intTmrErrorA;
wor Auto_Scan_DoneTmrErrorA;
wire [2:0] stateVotedA;
wire ministateVotedA;
wire [9:0] BL_intVotedA;
wire Linear_Scan_BusyVotedA;
wire CMD_regVotedA;
wire SAR_Scan_DoneVotedA;
wire [4:0] iVotedA;
wire [9:0] TH_regVotedA;
wire [9:0] BL_regVotedA;
wire [3:0] NW_regVotedA;
wire Auto_Scan_DoneVotedA;
wire SAR_Scan_BusyVotedA;
wire ScanActiveVotedA;
wire tmrError;
wor stateVotedTmrError;
wor ministateVotedTmrError;
wor TH_regVotedTmrError;
wor SS_Scan_DoneTmrError;
wor NW_regVotedTmrError;
wor BL_regVotedTmrError;
wor BLAccTmrError;
wor Auto_Scan_DoneVotedTmrError;
wire [9:0] TH_regVoted;
wire [3:0] NW_regVoted;
wire [2:0] stateVoted;
wire Auto_Scan_DoneVoted;
wire [`AccumulatorBit-1:0] BLAcc;
wire SS_Scan_Done;
wire ministateVoted;
wire [9:0] BL_regVoted;
input CLK;
input RSTn;
input DiscriPul;
input Bypass;
input CLKEn;
input ScanStart;
output wire    ScanDone;
input [9:0] DAC;
input [5:0] TH_offset;
output wire   [9:0] TH;
output wire   [9:0] BL;
output wire   [3:0] NW;
output wire   [`AccumulatorBit-1:0] Acc;
output wire   [2:0] StateOut;
inout VDD, VSS;
reg  ScanActiveA;
reg  ScanActiveB;
reg  ScanActiveC;
wire L2H_ScanStartA;
wire L2H_ScanStartB;
wire L2H_ScanStartC;
wire L2H_ScanDoneA;
wire L2H_ScanDoneB;
wire L2H_ScanDoneC;
wire resetnA;
wire resetnB;
wire resetnC;
wire clkEnableAutoA =  (ScanActiveA||L2H_ScanStartA||L2H_ScanDoneA||tmrErrorA||!resetnA);
wire clkEnableAutoB =  (ScanActiveB||L2H_ScanStartB||L2H_ScanDoneB||tmrErrorB||!resetnB);
wire clkEnableAutoC =  (ScanActiveC||L2H_ScanStartC||L2H_ScanDoneC||tmrErrorC||!resetnC);
wire clkEnableGlithesA =  (BypassA) ? CLKEnA : clkEnableAutoA;
wire clkEnableGlithesB =  (BypassB) ? CLKEnB : clkEnableAutoB;
wire clkEnableGlithesC =  (BypassC) ? CLKEnC : clkEnableAutoC;
wire clkEnableA;
wire clkEnableB;
wire clkEnableC;
wire clkGatedA;
wire clkGatedB;
wire clkGatedC;
endmodule
